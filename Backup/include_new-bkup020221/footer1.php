<!-- end:: Content -->
					</div>
<!-- begin:: Footer -->
					<div class="kt-footer  kt-grid__item kt-grid kt-grid--desktop kt-grid--ver-desktop" id="kt_footer">
						<div class="kt-container  kt-container--fluid ">
							<div class="kt-footer__copyright">
								Created & Designed by UK Software Company Ltd. Web: <a href="https://uksoftwarecompany.co.uk/">www.uksoftwarecompany.co.uk</a>
							</div>
							<div class="kt-footer__menu">
								<a class="kt-footer__menu-link kt-link">About</a>
								<a class="kt-footer__menu-link kt-link">Team</a>
								<a class="kt-footer__menu-link kt-link">Contact</a>
							</div>
						</div>
					</div>

					<!-- end:: Footer -->
				</div>
			</div>
		</div>

		<!-- end:: Page -->
<!--begin:: Vendor Plugins -->
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/jquery/dist/jquery.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/popper.js/dist/umd/popper.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/bootstrap/dist/js/bootstrap.min.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/js-cookie/src/js.cookie.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/moment/min/moment.min.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/moment/locale/fr.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/tooltip.js/dist/umd/tooltip.min.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/perfect-scrollbar/dist/perfect-scrollbar.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/sticky-js/dist/sticky.min.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/wnumb/wNumb.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/jquery-form/dist/jquery.form.min.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/block-ui/jquery.blockUI.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/bootstrap-datepicker/js/locales/bootstrap-datepicker.fr.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/js/global/integration/plugins/bootstrap-datepicker.init.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/bootstrap-datetime-picker/js/bootstrap-datetimepicker.min.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/bootstrap-datetime-picker/js/locales/bootstrap-datetimepicker.fr.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/bootstrap-timepicker/js/bootstrap-timepicker.min.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/js/global/integration/plugins/bootstrap-timepicker.init.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/bootstrap-daterangepicker/daterangepicker.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/bootstrap-touchspin/dist/jquery.bootstrap-touchspin.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/bootstrap-maxlength/src/bootstrap-maxlength.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/plugins/bootstrap-multiselectsplitter/bootstrap-multiselectsplitter.min.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/bootstrap-select/dist/js/bootstrap-select.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/bootstrap-switch/dist/js/bootstrap-switch.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/js/global/integration/plugins/bootstrap-switch.init.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/select2/dist/js/select2.full.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/ion-rangeslider/js/ion.rangeSlider.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/corejs-typeahead/dist/typeahead.bundle.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/handlebars/dist/handlebars.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/inputmask/dist/jquery.inputmask.bundle.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/inputmask/dist/inputmask/inputmask.date.extensions.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/inputmask/dist/inputmask/inputmask.numeric.extensions.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/nouislider/distribute/nouislider.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/owl.carousel/dist/owl.carousel.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/autosize/dist/autosize.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/clipboard/dist/clipboard.min.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/dropzone/dist/dropzone.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/js/global/integration/plugins/dropzone.init.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/quill/dist/quill.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/@yaireo/tagify/dist/tagify.polyfills.min.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/@yaireo/tagify/dist/tagify.min.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/summernote/dist/summernote.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/markdown/lib/markdown.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/bootstrap-markdown/js/bootstrap-markdown.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/js/global/integration/plugins/bootstrap-markdown.init.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/bootstrap-notify/bootstrap-notify.min.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/js/global/integration/plugins/bootstrap-notify.init.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/jquery-validation/dist/jquery.validate.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/jquery-validation/dist/additional-methods.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/js/global/integration/plugins/jquery-validation.init.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/toastr/build/toastr.min.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/dual-listbox/dist/dual-listbox.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/raphael/raphael.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/morris.js/morris.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/chart.js/dist/Chart.bundle.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/plugins/bootstrap-session-timeout/dist/bootstrap-session-timeout.min.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/plugins/jquery-idletimer/idle-timer.min.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/waypoints/lib/jquery.waypoints.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/counterup/jquery.counterup.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/es6-promise-polyfill/promise.min.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/sweetalert2/dist/sweetalert2.min.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/js/global/integration/plugins/sweetalert2.init.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/jquery.repeater/src/lib.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/jquery.repeater/src/jquery.input.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/jquery.repeater/src/repeater.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/general/dompurify/dist/purify.js" type="text/javascript"></script>

		<!--end:: Vendor Plugins -->
		<script src="<?php echo BASE_URL; ?>assets/js/scripts.bundle.js" type="text/javascript"></script>

		<!--begin:: Vendor Plugins for custom pages -->
		<script src="<?php echo BASE_URL; ?>assets/plugins/custom/plugins/jquery-ui/jquery-ui.min.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/custom/@fullcalendar/core/main.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/custom/@fullcalendar/daygrid/main.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/custom/@fullcalendar/google-calendar/main.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/custom/@fullcalendar/interaction/main.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/custom/@fullcalendar/list/main.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/custom/@fullcalendar/timegrid/main.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/custom/gmaps/gmaps.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/custom/flot/dist/es5/jquery.flot.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/custom/flot/source/jquery.flot.resize.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/custom/flot/source/jquery.flot.categories.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/custom/flot/source/jquery.flot.pie.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/custom/flot/source/jquery.flot.stack.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/custom/flot/source/jquery.flot.crosshair.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/custom/flot/source/jquery.flot.axislabels.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/custom/datatables.net/js/jquery.dataTables.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/custom/datatables.net-bs4/js/dataTables.bootstrap4.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/custom/js/global/integration/plugins/datatables.init.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/custom/datatables.net-autofill/js/dataTables.autoFill.min.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/custom/datatables.net-autofill-bs4/js/autoFill.bootstrap4.min.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/custom/jszip/dist/jszip.min.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/custom/pdfmake/build/pdfmake.min.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/custom/pdfmake/build/vfs_fonts.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/custom/datatables.net-buttons/js/dataTables.buttons.min.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/custom/datatables.net-buttons-bs4/js/buttons.bootstrap4.min.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/custom/datatables.net-buttons/js/buttons.colVis.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/custom/datatables.net-buttons/js/buttons.flash.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/custom/datatables.net-buttons/js/buttons.html5.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/custom/datatables.net-buttons/js/buttons.print.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/custom/datatables.net-colreorder/js/dataTables.colReorder.min.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/custom/datatables.net-fixedcolumns/js/dataTables.fixedColumns.min.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/custom/datatables.net-fixedheader/js/dataTables.fixedHeader.min.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/custom/datatables.net-keytable/js/dataTables.keyTable.min.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/custom/datatables.net-responsive/js/dataTables.responsive.min.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/custom/datatables.net-responsive-bs4/js/responsive.bootstrap4.min.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/custom/datatables.net-rowgroup/js/dataTables.rowGroup.min.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/custom/datatables.net-rowreorder/js/dataTables.rowReorder.min.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/custom/datatables.net-scroller/js/dataTables.scroller.min.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/custom/datatables.net-select/js/dataTables.select.min.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/custom/jstree/dist/jstree.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/custom/jqvmap/dist/jquery.vmap.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/custom/jqvmap/dist/maps/jquery.vmap.world.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/custom/jqvmap/dist/maps/jquery.vmap.russia.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/custom/jqvmap/dist/maps/jquery.vmap.usa.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/custom/jqvmap/dist/maps/jquery.vmap.germany.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/custom/jqvmap/dist/maps/jquery.vmap.europe.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/custom/uppy/dist/uppy.min.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/custom/tinymce/tinymce.min.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/custom/tinymce/themes/silver/theme.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/custom/tinymce/themes/mobile/theme.js" type="text/javascript"></script>
		<script src="<?php echo BASE_URL; ?>assets/plugins/custom/jkanban/dist/jkanban.min.js" type="text/javascript"></script>

		<!--end:: Vendor Plugins for custom pages -->

		<script src="<?php echo BASE_URL; ?>js/breakingNews.js"></script>

		<!--end::Page Vendors -->

		<!--begin::Page Scripts(used by this page) -->
		<script src="<?php echo BASE_URL; ?>assets/js/pages/crud/datatables/advanced/column-rendering.js" type="text/javascript"></script>
		
		

		<!--end::Global Theme Bundle -->

		<!--begin::Page Vendors(used by this page) -->
		<script src="//maps.google.com/maps/api/js?key=AIzaSyBTGnKT7dt597vo9QgeQ7BFhvSRP4eiMSM" type="text/javascript"></script>
<script src="<?php echo BASE_URL; ?>assets/js/pages/dashboard.js" type="text/javascript"></script>
		<!--end::Page Vendors -->
<script>
	var KTAppOptions = {
		"colors": {
			"state": {
				"blue": "#007bff",
				"red": "#dc3545",
				"orange": "#fd7e14",
				"yellow": "#ffc107",
				"indigo": "#6610f2",
				"purple": "#6f42c1",
				"pink": "#e83e8c",
				"green": "#28a745",
				"teal": "#20c997",
				"cyan": "#17a2b8",
				"gray": "#6c757d",
				"gray-dark": "#343a40",
				"secondary": "#e1e1ef",
				"dark": "#343a40",
				"light": "#f8f9fa",
				"primary": "#5867dd",
				"success": "#34bfa3",
				"info": "#36a3f7",
				"warning": "#ffb822",
				"danger": "#fd3995"
			},
			"base": {
				"label": [
					"#c5cbe3",
					"#a1a8c3",
					"#3d4465",
					"#3e4466"
				],
				"shape": [
					"#f0f3ff",
					"#d9dffa",
					"#afb4d4",
					"#646c9a"
				]
			}
		}
	};
	
	// Bandwidth Charts 1.
	// Based on Chartjs plugin - http://www.chartjs.org/
	var savingsChart = function() {
		if ($('#kt_chart_bandwidth1').length == 0) {
			return;
		}

		var ctx = document.getElementById("kt_chart_bandwidth1").getContext("2d");
		
		//var ctx = document.getElementById("myChart1").getContext("2d");
		

		var gradient = ctx.createLinearGradient(0, 0, 0, 240);
		gradient.addColorStop(0, Chart.helpers.color('#d1f1ec').alpha(1).rgbString());
		gradient.addColorStop(1, Chart.helpers.color('#d1f1ec').alpha(0.3).rgbString());

		var config = {
			type: 'line',
			data: {
				labels: JSON.parse($("#dbmonths").val()),
				datasets: [{
					label: "We save you £",
					backgroundColor: gradient,
					borderColor: KTApp.getStateColor('success'),

					pointBackgroundColor: Chart.helpers.color('#000000').alpha(0).rgbString(),
					pointBorderColor: Chart.helpers.color('#000000').alpha(0).rgbString(),
					pointHoverBackgroundColor: KTApp.getStateColor('danger'),
					pointHoverBorderColor: Chart.helpers.color('#000000').alpha(0.1).rgbString(),

					//fill: 'start',
					data: JSON.parse($("#dbdatas").val())
				}]
			},
			options: {
				title: {
					display: false,
				},
				animation: {
					duration: 0,
					onComplete: function () {
						// render the value of the chart above the bar
						var ctx = this.chart.ctx;
						ctx.font = Chart.helpers.fontString(Chart.defaults.global.defaultFontSize, 'normal', Chart.defaults.global.defaultFontFamily);
						ctx.fillStyle = this.chart.config.options.defaultFontColor;
						ctx.textAlign = 'center';
						ctx.textBaseline = 'bottom';
						this.data.datasets.forEach(function (dataset) {
							for (var i = 0; i < dataset.data.length; i++) {
								var model = dataset._meta[Object.keys(dataset._meta)[0]].data[i]._model;
								ctx.fillText('£'+dataset.data[i], model.x, model.y - 5);
							}
						});
					}
				},
				hover: {
					animationDuration: 0, // duration of animations when hovering an item
				},
				tooltips: {
					mode: 'nearest',
					intersect: false,
					position: 'nearest',
					xPadding: 10,
					yPadding: 10,
					caretPadding: 10
				},
				legend: {
					display: false
				},
				responsive: true,
				maintainAspectRatio: false,
				scales: {
					xAxes: [{
						display: true,
						gridLines: false,
						scaleLabel: {
							display: true,
							labelString: 'Month'
						}
					}],
					yAxes: [{
						display: true,
						gridLines: false,
						scaleLabel: {
							display: true,
							labelString: 'We save you £'
						},
						ticks: {
							beginAtZero: true
						}
					}]
				},
				elements: {
					line: {
						tension: 0.000001
					},
					point: {
						radius: 4,
						borderWidth: 12
					}
				},
				layout: {
					padding: {
						left: 0,
						right: 0,
						top: 10,
						bottom: 0
					}
				}
			}
		};

		var chart = new Chart(ctx, config);
		
		
	}
	
	// Revenue Change.
    // Based on Morris plugin - http://morrisjs.github.io/morris.js/
    var CancelledChange = function() {
        if ($('#kt_chart_revenue_change').length == 0) {
            return;
        }

        Morris.Donut({
            element: 'kt_chart_revenue_change',
            data: JSON.parse($('#cancelledreasons').val()),
            colors: [
				KTApp.getStateColor('blue'),
				KTApp.getStateColor('green'),
				KTApp.getStateColor('orange'),
				KTApp.getStateColor('gray-dark'),
				KTApp.getStateColor('purple'),
				KTApp.getStateColor('indigo'),
				KTApp.getStateColor('pink'),
				KTApp.getStateColor('red'),
				KTApp.getStateColor('yellow'),
				KTApp.getStateColor('teal'),
				KTApp.getStateColor('cyan'),
				KTApp.getStateColor('primary'),
				KTApp.getStateColor('gray'),
				KTApp.getStateColor('secondary'),
				KTApp.getStateColor('success'),
				KTApp.getStateColor('info'),
				KTApp.getStateColor('warning'),
				KTApp.getStateColor('danger'),
				KTApp.getStateColor('dark')
            ],
        });
    }
	
	// Daily Sales chart.
    // Based on Chartjs plugin - http://www.chartjs.org/
    var responseChange = function() {
        var chartContainer = KTUtil.getByID('kt_chart_daily_sales');

        if (!chartContainer) {
            return;
        }

        var chartData = {
            labels: JSON.parse($('#rclabels').val()),
            datasets: [{
                //label: 'Dataset 1',
                //backgroundColor: KTApp.getStateColor('danger'),
                data: JSON.parse($('#rcvalues').val()),
				backgroundColor: [
					KTApp.getStateColor('blue'),
					KTApp.getStateColor('green'),
					KTApp.getStateColor('orange'),
					KTApp.getStateColor('gray-dark'),
					KTApp.getStateColor('purple'),
					KTApp.getStateColor('indigo'),
					KTApp.getStateColor('pink'),
					KTApp.getStateColor('red'),
					KTApp.getStateColor('yellow'),
					KTApp.getStateColor('teal'),
					KTApp.getStateColor('cyan'),
					KTApp.getStateColor('primary'),
					KTApp.getStateColor('gray'),
					KTApp.getStateColor('secondary'),
					KTApp.getStateColor('success'),
					KTApp.getStateColor('info'),
					KTApp.getStateColor('warning'),
					KTApp.getStateColor('danger'),
					KTApp.getStateColor('dark')
				]
            }]
        };

        var chart = new Chart(chartContainer, {
            type: 'bar',
            data: chartData,
            options: {
                title: {
                    display: false,
                },
				animation: {
					duration: 0,
					onComplete: function () {
						// render the value of the chart above the bar
						var ctx = this.chart.ctx;
						ctx.font = Chart.helpers.fontString(Chart.defaults.global.defaultFontSize, 'normal', Chart.defaults.global.defaultFontFamily);
						ctx.fillStyle = this.chart.config.options.defaultFontColor;
						ctx.textAlign = 'center';
						ctx.textBaseline = 'bottom';
						this.data.datasets.forEach(function (dataset) {
							for (var i = 0; i < dataset.data.length; i++) {
								var model = dataset._meta[Object.keys(dataset._meta)[0]].data[i]._model;
								ctx.fillText(dataset.data[i]+'%', model.x, model.y - 5);
								
							}
						});
						// Get the max value from the array 
						var arr = this.data.datasets[0].data;						
						var maxValue = Math.max.apply(this, arr);

						// Get the index of the max value, through the built in function inArray
						var clrs = this.data.datasets[0].backgroundColor[7]+" !important";

						$('#totreas').css("color",clrs);
					}
				},
				hover: {
					animationDuration: 0, // duration of animations when hovering an item
				},
                tooltips: {
                    intersect: false,
                    mode: 'nearest',
                    xPadding: 10,
                    yPadding: 10,
                    caretPadding: 10,
					callbacks: {
						label: function(tooltipItem, data) {
							var label = data.datasets[tooltipItem.datasetIndex].label || '';
							
							if (label) {
								label += ': ';
							}
							label += Math.round(tooltipItem.yLabel * 100) / 100;
							return label + '%';
						}
					}
                },
                legend: {
                    display: false
                },
                responsive: true,
                maintainAspectRatio: false,
                barRadius: 4,
                scales: {
                    xAxes: [{
                        display: true,
                        gridLines: false,
                        stacked: true,
						scaleLabel: {
							display: true,
							labelString: 'Within Hours'
						  }
                    }],
                    yAxes: [{
                        display: true,
                        stacked: true,
                        gridLines: false,
						ticks: {
							// Include a dollar sign in the ticks
							callback: function(value, index, values) {
								return value.toFixed(2) + '%';
							}
						}
                    }]
                },
                layout: {
                    padding: {
                        left: 0,
                        right: 0,
                        top: 0,
                        bottom: 0
                    }
                }
            }
        });
		
		/*chart.datasets[0].bars[0].fillColor = "green"; //bar 1
    chart.datasets[0].bars[1].fillColor = "orange"; //bar 2
    chart.datasets[0].bars[2].fillColor = "red"; //bar 3
    chart.update();*/
    }
</script>
		<!--begin::Page Scripts(used by this page) -->
		<!-- <script src="<?php //echo BASE_URL; ?>assets/js/pages/dashboard.js" type="text/javascript"></script> -->
<script type="text/javascript" src="<?php echo BASE_URL; ?>js/jquery.validate.js"></script>
    <script type="text/javascript" src="<?php echo BASE_URL; ?>js/nj_form.js"></script>
		<!--end::Page Scripts -->
	<?php
if ($page != 5) {
    $InterpreterID = $_SESSION['linguist_username'];
    $rowcount = '';
    $lang = "SELECT * FROM LinguistsLogin WHERE InterpreterID = $InterpreterID ";
    $querylang = mysqli_query($conn, $lang);
    $html = '';
    while ($selectlang = mysqli_fetch_array($querylang)) {
        $lanids = str_replace(';', ',', $selectlang['Language1ID']);
        $lanids = str_replace(',,', ',', $lanids);
        $lanid = rtrim($lanids, ',');
        $timesheetquery = "SELECT * FROM Bookings WHERE Language1ID in ($lanid)  and InterpreterID = '0' AND IsConfirmedBooking = '0' AND DateOfJOb > CURDATE() AND CancelledByClient = '0' and DoubleBookingDetected != '-1' and BookingID != 0 limit 0,100";
        $timesheetfire = mysqli_query($conn, $timesheetquery);
        $rowcount = mysqli_num_rows($timesheetfire);
    }
}
?>  
<input type="hidden" name="rowcountsp" id="rowcountsp" value="<?php echo $rowcount; ?>" />   
<?php
	//print_r($_POST);
	if(!empty($_POST['btnAcceptedNew'])=="Ok")
	{
		$notification_id= $_POST['notification_id'];
		$client_id=$_SESSION['client_username'];
		$accepted_date=date('Y-m-d');
		$notification_sql=mysqli_query($conn,"INSERT INTO `notification_relation_client`(`id`, `notification_id`, `client_id`, `accepted_date`) VALUES (NULL,'$notification_id','$client_id','$accepted_date')");
	}
	$result_1 = mysqli_query($conn, "SELECT * FROM notification INNER JOIN notification_relation_client ON notification.id = notification_relation_client.notification_id WHERE notification.status ='1' AND notification.view_section='1' AND notification_relation_client.client_id='".$_SESSION['client_username']."'");
	$tot_notifications=mysqli_num_rows($result_1);
	
	

if($tot_notifications==0)
{
	$client_id=$_SESSION['client_username'];
	$accepted_date=date('Y-m-d');
	$sels = mysqli_query($conn,"select * from notification WHERE notification.status ='1' AND notification.view_section='1'");
	while ($notrow = mysqli_fetch_array($sels)) {
		mysqli_query($conn,"INSERT INTO `notification_relation_client`(`notification_id`, `client_id`, `accepted_date`) VALUES ('".$notrow['id']."','$client_id','$accepted_date')");
	}
?>

<div class="modal fade" id="kt_modal_1_2_new" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
	<!-- Modal content-->
	<div class="modal-content">
	  <div class="modal-header">
		<h4 class="modal-title">Welcome, <?php echo $clientname;?></h4>
		<button type="button" class="close" data-dismiss="modal"></button>
		
	  </div>

	  <div class="modal-body">
	  <?php 
	  //https://www.absolute-interpreting.co.uk/Portal/ClientsPortal/important_announcement.php
	  $messages='Welcome to our Secure Portal!<br><br>For your information, we have many related and important news updates which can be viewed at .';
	  $button='<br><br><button onclick="location.href=\'https://www.absolute-interpreting.co.uk/Portal/ClientsPortal/important_announcement.php\'" class="btn btn-primary" style="background-color:#2d7bf4; border-color:#2d7bf4;" > Important Announcement </button>';
	  $strlenn = strlen($messages);
	  ?>
		<div class="kt-scroll <?php if($strlenn>2500){?>kt-scroll-custom<?php }?>" data-scroll="true" data-height="300">
			<?php echo $messages.''.$button; ?>
		</div>
		
	  </div>
	  <div class="modal-footer" style="text-align: center;">
		<button type="button" class="btn btn-warning" data-dismiss="modal" style="padding:16px 16px; font-size:17px;">Ok</button>
		<div style="clear:both; height:10px;"></div>
	  </div>
	</div>
  </div>
</div>
<?php } else {
	
	$news_idd=array();
	while ($row_1 = mysqli_fetch_assoc($result_1)) {
		$news_idd[]=$row_1['notification_id'];
	}
	$sql_tt = mysqli_query($conn,"SELECT * FROM notification WHERE id NOT IN ( '" . implode( "', '" , $news_idd ) . "' ) AND status ='1' AND view_section='1' ORDER BY id ASC LIMIT 0,1");
	$row_2_count=mysqli_num_rows($sql_tt);
	if($row_2_count>0){
	?>
 <div class="modal fade" id="kt_modal_1_2" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
<?php while ($row_2 = mysqli_fetch_assoc($sql_tt)) { ?>
	<!-- Modal content-->
	<div class="modal-content">
	  <div class="modal-header">
		<h4 class="modal-title"><?php echo $row_2['title']; ?></h4>
		<button type="button" class="close" data-dismiss="modal"></button>
		
	  </div>
	  <div class="modal-body">
	  <?php 
	  
	  $strlenn = strlen($row_2['detail']);
	  ?>
	  <!-- <div class="kt-scroll <?php if($strlenn>2500){?>kt-scroll-custom<?php }?>" data-scroll="true" data-height="300"> -->
		<div class="kt-scroll <?php if($strlenn>2500){?>kt-scroll-custom<?php }?>" data-scroll="true" data-height="800">
			<?php echo $row_2['detail']; ?>
		</div>
		
	  </div>
	  <div class="modal-footer" style="text-align: center;">
		<form action="" method="post">
		<input type="hidden" id="client_id" name="client_id" value="<?php echo $_SESSION['client_username']; ?>">
		<input type="hidden" id="notification_id" name="notification_id" value="<?php echo $row_2['id']; ?>">
		<input type="submit" class="btn btn-warning" id="btnAcceptedNew" name="btnAcceptedNew" value="Ok" style="padding:16px 16px; font-size:17px;">
		</form>
		<div style="clear:both; height:10px;"></div>
	  </div>
	</div>


	  <?php } ?>
  </div>
</div>
<?php
	}
}
	if($tot_notifications==0)
	{
	 ?>
	 <script>
	 
	 window.onload = function(){
	  $('#kt_modal_1_2_new').modal('show');
	}
	 </script>
	 <?php }
	else
	{
	 ?>
	 <script>
	 
	 window.onload = function(){
	  $('#kt_modal_1_2').modal('show');
	}
	 </script>
	 <?php }	 ?>

<!--<script src="<?php echo BASE_URL; ?>js/all.js"></script>

<script src="<?php echo BASE_URL; ?>js/daterangepicker.js"></script>

<script src="<?php echo BASE_URL; ?>js/bootstrap-datepicker.min.js"></script>-->

<script>
    $(document).ready(function () {
        var rowcount = $("#rowcountsp").val();

//        alert(rowcount);
        if (rowcount > 0) {

            $(".availbooking_my").html('<a id="availbooking" href="<?php echo BASE_URL; ?>Portal/LinguistsPortal/new_availbooking.php"><span class="blink" style="display: inline-block; background-color: red; padding: 0px 6px; border-radius: 17px; opacity: 0.91354;">' + rowcount + '</span>New Available Booking</a>');
        } else {
            $(".availbooking_my").html('<a id="availbooking" href="<?php echo BASE_URL; ?>Portal/LinguistsPortal/new_availbooking.php">New Available Booking</a>');
        }
    });
//$("#availableBooking").html(rowcount);
</script>
        

<style>
#example_filter  .search_input{font-size: 14px!important}
           .active a{
               background:#104b68 !important;
               color:#fff !important;
               border-top-left-radius: 10px;
               border-top-right-radius: 10px;
           }
    #myProgress {
        width: 100%;
        background-color: #ddd;
    }
        .dataTables_filter { 
        width:88% ;
   }
    .dataTables_filter label {
        font-weight: bold !important;
        font-size: 16px !important;
    }
    .dataTables_filter input {
        background: #e4ff008c;
        font-size: 15px;
        font-weight: normal;
        width: 100% !important;
    }
 div.dataTables_wrapper div.dataTables_processing {
    top: 50%;
    left: 50%;
    background-color: white;
    font-size: 24px;
    color: #999;
}


    #myBar {
        top: 312px;
        font-weight: bold;
        position: absolute;
        color: #fff;
        font-size: 25px;
        left: 45.5%;
        width: 10%;
        height: 30px;
        text-align: center;
        line-height: 30px;
        color: white;
    }
</style>
<style>
    section#thankyou_msg {
        padding: 60px;
    }
    #overlay {
        background: #3531300d;
        color: #666666;
        position: fixed;
        height: 100%;
        width: 100%;
        z-index: 5000;
        top: 0;
        left: 0;
        float: left;
        text-align: center;
        padding-top:200px;
    }
    .uploadfle {
        padding: 5px;
    }
       #processingtxt {
        position: absolute;
        top: 50%;
        left: 50%;
        width: 200px;
        margin-left: -100px;
        margin-top: -26px;
        text-align: center;
        padding: 1em 0;
        font-size: 20px;
        color: gray;
    }
</style>
<div id="overlay"  style="display:none">
    <div id="processingtxt" class="processing">Processing...</div>
    <!--<img src="<?php echo BASE_URL; ?>images/loader.gif" alt="Loading" /><br/> -->
    <!--<span style="font-weight:bold; color:#fff; font-size:25px" id="myBar"></span>-->
</div>
</body>
</html>
<!-- line modal -->
<div class="modal fade" id="modal-one" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
    <div class="modal-dialog modal-md">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Cancelling Booking ID : <span id="cancelbookingid"></span></h2>
            </div>
            <div class="modal-body">
                <div class="" id="modalcancel_content">
                    <!-- content goes here -->
                    <form>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="ClientCaller" class="control-label">Your Full Name</label>
                                    <input id="txtFullName" class="form-control form-tooltips" name="txtFullName" type="text" />
                                    <input type="hidden" id="bookingsrno" value="" />
                                    <input type="hidden" id="bookingidno" value="" />
                                    <input type="hidden" id="SubOfficeIdsList" value="" />
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="ClientCaller" class="control-label">Contact No.</label>
                                    <input class="form-control form-tooltips"  id="txtContactno" name="txtContactno" type="text" min="0" />
                                </div>
                            </div>
						</div>
                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label for="ClientCaller" class="control-label">Email Id :</label>
                                    <input class="form-control form-tooltips"  id="txtEmailCanceled" name="txtEmailCanceled" type="email" pattern="^[_a-z0-9-]+(\.[_a-z0-9-]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,})$">
                                </div>
                            </div>
							<div class="col-md-12">
                                <div class="form-group">
                                    <label for="ClientCaller" class="control-label">Name of Person Who Requested Cancellation:</label>
                                    <input id="txtPersonCancelled" name="txtPersonCancelled" class="form-control form-tooltips"  type="text">
                                </div>
                            </div>
						</div>
                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label for="ClientCaller" class="control-label">Telephone Number of Person Who Requested Cancellation:</label>
                                    <input id="txtContactCancelled" name="txtContactCancelled" class="form-control form-tooltips"  type="text">
                                </div>
                            </div>
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label for="ClientCaller" class="control-label">Reason For Cancellation: </label>
                                    <select id="txtReasonCancelled" name="txtReasonCancelled" class="form-control form-tooltips" >
                                        <option value="">Select</option>
                                        <?php
                                        $reason = "SELECT * FROM reasons where UserType='1' order by Reasons  asc";
                                        $queryreason = mysqli_query($conn, $reason);
                                        while ($reasons = mysqli_fetch_array($queryreason)) {
                                            ?>
                                            <option value="<?php echo $reasons['ID']; ?>"><?php echo $reasons['Reasons']; ?></option>

                                        <?php } ?>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div id="modalcancel_thankyou" style="display:none">
                    <center><p>Your mail has been sent successfully.</p></center>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-success" id="btnCancelBooking" name="btnCancelBooking">Send</button>
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>

</div>

<div class="modal fade" id="interpretermodal" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
    <div class="modal-dialog modal-md">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Assign Linguist to Booking ID : <span id="selbookingid"></span></h2>
            </div>
            <div class="modal-body">
                <input type="text" name="bookingsrid" id="bookingsrid">
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-success" id="btnAssignLing" name="btnAssignLing">Send</button>
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>

</div>

<div class="modal fade" id="complaintmodal" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
    <div class="modal-dialog modal-md">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Feedback For Booking ID : <span id="complaintbookingid"></span></h2>
            </div>
            <div class="modal-body">
                <div class="" id="modalcomplaint_content">
                    <!-- content goes here -->
                    <form>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="ClientCaller" class="control-label">Your Full Name:</label>
                                    <input id="NameofComplainant" class="form-control form-tooltips" name="NameofComplainant" type="text" />
                                    <input type="hidden" id="bookingsrno" value="" />
                                    <input type="hidden" id="SubOfficeIdsList" value="" />
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="ClientCaller" class="control-label">Your Contact Number:</label>
                                    <input class="form-control form-tooltips"  id="ContactOfComplainant" name="ContactOfComplainant" type="text" min="0" />
                                </div>
                            </div>
						</div>
                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label for="ClientCaller" class="control-label">Your Email Address:</label>
                                    <input class="form-control form-tooltips"  id="EmailofComplainant" name="EmailofComplainant" type="email" pattern="^[_a-z0-9-]+(\.[_a-z0-9-]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,})$">
                                </div>
                            </div>
							<div class="col-md-12">
                                <div class="form-group">
                                    <label for="ClientCaller" class="control-label">Feedback Type: </label>
                                    <select id="ComplaintReason" name="ComplaintReason" class="form-control form-tooltips" >
                                        <option value="">Select</option>
                                        <?php
                                        $reason = "SELECT * FROM `feedback_type` WHERE `status`=1 order by reasons  asc";
                                        $queryreason = mysqli_query($conn, $reason);
                                        while ($reasons = mysqli_fetch_array($queryreason)) {
                                            ?>
                                            <option value="<?php echo $reasons['id']; ?>"><?php echo $reasons['reasons']; ?></option>

                                        <?php } ?>
                                    </select>
									<input type="hidden" id="iscomplaint" name="iscomplaint">
                                </div>
                            </div>
						</div>
                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label for="ClientCaller" class="control-label">Please provide detailed information:</label>
                                    <textarea id="DetailsOfComlpaint" name="DetailsOfComlpaint" rows="2" cols="37" style="width: 100%;"></textarea>
                                </div>
                            </div>
                            
                        </div>
                    </form>
                </div>
                <div id="modalcomplaint_thankyou" style="display:none">
                    <center><p>Your message has been logged.</p></center>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-success" id="btnComplaintBooking" name="btnComplaintBooking">Send</button>
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>

</div>

<div class="modal fade" id="timesheetmodal" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xm">
        <div class="modal-content">
            
            <div class="modal-body">
				<img src='' id="tymshiturl" style="display:none;" width="450px" height="700px">
				<iframe src="" id="tymshitpdfurl" style="display:none;" width="460px" height="700px"></iframe>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>

</div>

<script>

    $(document).ready(function () {

        $('#example_filter label').addClass('apply');
        $('.apply input').addClass('search_input');

    })

</script> 

<script>
    $(document).ready(function (e) {
        $("#bn3").breakingNews({
            effect: "slide-v",
            autoplay: true,
            timer: 3000,
            color: "turquoise",
            border: true
        });
		$('#extport').click(function(){
			$('#kt_content .kt-container .rating-wrapper').hide();
			$('#kt_content .kt-container .kt-portlet').hide();
			$('#kt_content .kt-container').append('<div id="extportal" class="kt-portlets kt-portlet--mobile"><iframe src="https://absoluteinterpreting.interpretmanager.com/app/account/sign-in" width="100%" height="1024px" id="portalframe" style="border: none;"></iframe></div>');
			$('#extport').hide();
			$('#extportout').show();
		});
		$('#extportout').click(function(){
			alert($("#portalframe").contents().find("#page-wrapper").length);
			/*$('#kt_content .kt-container .rating-wrapper').show();
			$('#kt_content .kt-container .kt-portlet').show();
			$('#kt_content .kt-container #extportal').hide();
			$('#extport').show();
			$('#extportout').hide();*/
			
		});
    });
</script>

<script>

function validateEmail(sEmail) {
        var filter = /^[a-zA-Z0-9._&%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$/;
        if (filter.test(sEmail)) {
            return true;
        } else {
            return false;
        }
    }
    $("#btnCancelBooking").click(function ()
    {
        //alert("@@@@"+$("#txtNewPass").val());
        if ($("#txtFullName").val().length == '0')
        {
            alert("Enter the Full Name.");

            $('#txtFullName').focus();

            return false;
        }


        if ($("#txtContactno").val() == "")
        {
            alert("Enter the Valid Contact No.");

            $('#txtContactno').focus();

            return false;
        }
        if ($("#txtEmailCanceled").val() == "")
        {
            alert("Enter the Email Address");

            $('#txtEmailCanceled').focus();

            return false;
        }
        if ($("#txtEmailCanceled").val().length > 0)
        {
            if (!validateEmail($("#txtEmailCanceled").val())) {
                alert("Please enter a valid email ID.");
                $('#BookingPersonEmail').focus();
                return false;
            }
        }
        if ($("#txtPersonCancelled").val() == "")
        {
            alert("Enter the Name of Person Who Requested Cancellation");
            $('#txtPersonCancelled').focus();

            return false;
        }
        if ($("#txtContactCancelled").val() == "")
        {
            alert("Enter Telephone Number of Person Who Requested Cancellation");

            $('#txtContactCancelled').focus();

            return false;
        }
        if ($("#txtReasonCancelled").val() == "")
        {
            alert("Enter Reason For Cancellation");
            $('#txtReasonCancelled').focus();

            return false;
        }
        var InterpreterID = <?php echo $_SESSION['client_username']; ?>;
        var cancelbookingid = $("#cancelbookingid").html();
		var bookingsrno = $("#bookingsrno").val();
		var bookingidno = $("#bookingidno").val();
		var SubOfficeIdsList = $("#SubOfficeIdsList").val();
		//alert(SubOfficeIdsList);
        var txtFullName = $("#txtFullName").val();
        var txtPersonCancelled = $("#txtPersonCancelled").val();
        var txtContactno = $("#txtContactno").val();
        var txtEmailCanceled = $("#txtEmailCanceled").val();
        var txtContactCancelled = $("#txtContactCancelled").val();
        var txtReasonCancelled = $("#txtReasonCancelled").val();
        var login_data = "&InterpreterID=" + InterpreterID;
        login_data += "&bookingsrno=" + bookingsrno;
        login_data += "&bookingidno=" + bookingidno;
        login_data += "&SubOfficeIdsList=" + SubOfficeIdsList;
		login_data += "&fullname=" + txtFullName;
        login_data += "&PersonCancelled=" + txtPersonCancelled;
        login_data += "&ContactCancelled=" + txtContactCancelled;
        login_data += "&ReasonCancelled=" + txtReasonCancelled;
        login_data += "&contactno=" + txtContactno;
        login_data += "&cancelbookingid=" + cancelbookingid;
        login_data += "&EmailCanceled=" + txtEmailCanceled;
        if (InterpreterID == null)
        {
            window.location = "<?php echo BASE_URL; ?>";
        }

        $.ajax({
            type: "POST",
            url: "mailsend.php",
            data: login_data,
            beforeSend: function () {
                $('#overlay').show();
            },
            success: function (result) {
				//alert(result);
				//console.log(result);
                $('#overlay').hide();
                $('#btnCancelBooking').hide();
                $('#modalcancel_content').hide();
                $('#modalcancel_thankyou').show();
                setTimeout(function () {
                    $("#modal-one").remove();
                   location.reload();
                }, 2000);
//                $("#modal-one").remove();
//                location.reload();
                return false;
            }
        });
    });
	
	$("#btnAssignLing").click(function ()
    {
        
        var InterpreterID = <?php echo $_SESSION['client_username']; ?>;
        var bookingsrid = $("#bookingsrid").val();
		
        var login_data = "&InterpreterID=" + InterpreterID;
        login_data += "&bookingsrid=" + bookingsrid;
        if (InterpreterID == null)
        {
            window.location = "<?php echo BASE_URL; ?>";
        }

        $.ajax({
            type: "POST",
            url: "linguistAssign_Ajax.php",
            data: login_data,
            beforeSend: function () {
                $('#overlay').show();
            },
            success: function (result) {
				//alert(result);
				//console.log(result);
                $('#overlay').hide();
                $('#btnCancelBooking').hide();
                $('#modalcancel_content').hide();
                $('#modalcancel_thankyou').show();
                setTimeout(function () {
                    $("#modal-one").remove();
                    location.reload();
                }, 2000);
//                $("#modal-one").remove();
//                location.reload();
                return false;
            }
        });
    });
	
	$('#ComplaintReason').change(function(){
		$('#iscomplaint').val('0');
		if($(this).val()==3)
		{
			$('#iscomplaint').val('-1');
		}
	});
	$("#btnComplaintBooking").click(function ()
    {
        //alert("@@@@"+$("#txtNewPass").val());
        if ($("#NameofComplainant").val().length == '0')
        {
            alert("Enter the Full Name.");

            $('#NameofComplainant').focus();

            return false;
        }


        if ($("#ContactOfComplainant").val() == "")
        {
            alert("Enter the Valid Contact No.");

            $('#ContactOfComplainant').focus();

            return false;
        }
        if ($("#EmailofComplainant").val() == "")
        {
            alert("Enter the Email Address");

            $('#EmailofComplainant').focus();

            return false;
        }
        if ($("#EmailofComplainant").val().length > 0)
        {
            if (!validateEmail($("#EmailofComplainant").val())) {
                alert("Please enter a valid email ID.");
                $('#EmailofComplainant').focus();
                return false;
            }
        }
        if ($("#ComplaintReason").val() == "")
        {
            alert("Please select your feedback type.");
            $('#ComplaintReason').focus();

            return false;
        }
		if ($("#DetailsOfComlpaint").val() == "")
        {
            alert("Enter your feedback in details");
            $('#DetailsOfComlpaint').focus();

            return false;
        }
		
        var InterpreterID = <?php echo $_SESSION['client_username']; ?>;
        var complaintbookingid = $("#complaintbookingid").html();
		var bookingsrno = $("#bookingsrno").val();
		var bookingidno = $("#bookingidno").val();
        var NameofComplainant = $("#NameofComplainant").val();
        var ContactOfComplainant = $("#ContactOfComplainant").val();
        var EmailofComplainant = $("#EmailofComplainant").val();
        var ComplaintReason = $("#ComplaintReason").val();
		var DetailsOfComlpaint = $("#DetailsOfComlpaint").val();
		var IsComlpaint = $("#iscomplaint").val();
        var login_data = "&InterpreterID=" + InterpreterID;
		login_data += "&complaintbookingid=" + complaintbookingid;
		login_data += "&NameofComplainant=" + NameofComplainant;
        login_data += "&ContactOfComplainant=" + ContactOfComplainant;
        login_data += "&EmailofComplainant=" + EmailofComplainant;
        login_data += "&ComplaintReason=" + ComplaintReason;
        login_data += "&DetailsOfComlpaint=" + DetailsOfComlpaint;
		login_data += "&IsComlpaint=" + IsComlpaint;
        if (InterpreterID == null)
        {
            window.location = "<?php echo BASE_URL; ?>";
        }
		//console.log(login_data);
        $.ajax({
            type: "POST",
            url: "complaint_send.php",
            data: login_data,
            beforeSend: function () {
                $('#overlay').show();
            },
            success: function (result) {
				//alert(result);
				//console.log(result);
                $('#overlay').hide();
                $('#btnComplaintBooking').hide();
                $('#modalcomplaint_content').hide();
                $('#modalcomplaint_thankyou').show();
                setTimeout(function () {
                    $("#complaintmodal").remove();
                    location.reload();
                }, 2000);
//                $("#modal-one").remove();
//                location.reload();
                return false;
            }
        });
    });
</script>
